# Requirements: Advanced Ear Training

## v1 Requirements

### Core Logic (THEORY)
- [ ] **THEORY-01**: Functional harmony engine for Secondary Dominants (identify V/ii, V/V, V/vi, V/IV).
- [ ] **THEORY-02**: Modal interchange dictionary (iv, bVI, bVII, bII, ii7b5).
- [ ] **THEORY-03**: Upper Structure Triad generator (II/I, VI/I, bV/I over dominant shells).
- [ ] **THEORY-04**: Enharmonic correction logic to ensure functional spelling matches the key.

### Exercise Components (UI)
- [ ] **UI-01**: `SecondaryDominantsLevel` component with functional labeling.
- [ ] **UI-02**: `ModalInterchangeLevel` component with Roman Numeral buttons.
- [ ] **UI-03**: `USTLevel` component for Upper Structure identification.
- [ ] **UI-04**: Unified MIDI listener for identifying specific notes/chords in these advanced contexts.

### State & Integration (INTEG)
- [ ] **INTEG-01**: Update `FETLevel` type and `FunctionalEarTraining` menu.
- [ ] **INTEG-02**: Scoring and streak integration for new levels.

## v2 / Deferred
- [ ] Progressions involving these advanced concepts.
- [ ] Customizable modal interchange palettes.

## Out of Scope
- [ ] Staff notation input.
- [ ] Real-time audio pitch detection.
