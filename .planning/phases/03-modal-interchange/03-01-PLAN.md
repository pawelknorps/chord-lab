---
wave: 1
depends_on: []
files_modified:
  - src/modules/FunctionalEarTraining/components/levels/ModalInterchangeLevel.tsx
  - src/utils/theoryEngine.ts
autonomous: true
---

# Plan: 03-01 Implement Modal Interchange Level

Recognize chords borrowed from parallel modes (Aeolian, Phrygian, etc.) within a Major key context.

## Tasks

<task id="engine-expansion">
Update `src/utils/theoryEngine.ts`:
- Add a helper `getModalInterchangeChords(tonic)` returning common borrowed chords: iv, bVI, bVII, bII, ii7b5, v7.
</task>

<task id="component-creation">
Create `src/modules/FunctionalEarTraining/components/levels/ModalInterchangeLevel.tsx`.
- Structure similar to `SecondaryDominantsLevel.tsx`.
- Exercise loop: 
  1. Cadence (I-IV-V-I).
  2. Play borrowed chord (e.g., Ab major in C major context).
  3. Resolution back to I.
- UI Options: iv, bVI, bVII, bII (Neapolitan), ii√ò7, v7.
- Support MIDI input for chord recognition.
</task>

## Verification
- Auditory feedback uses correct functional spellings (e.g., Ab in C major for 'iv').
- MIDI keyboard input correctly matches the borrowed chords.
